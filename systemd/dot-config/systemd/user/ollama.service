[Unit]
Description=Ollama Service
Wants=network-online.target
After=network.target network-online.target

[Service]
ExecStart=/usr/bin/ollama serve
Environment="OLLAMA_MODELS=%h/.local/share/ollama/models"
Environment="OLLAMA_CONTEXT_LENGTH=32768"
Environment="OLLAMA_HOST=127.0.0.1:11434"
WorkingDirectory=%h/.local/share/ollama

Restart=on-failure
RestartSec=3
RestartPreventExitStatus=1

[Install]
WantedBy=multi-user.target

