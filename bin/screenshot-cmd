#!/bin/bash

HELP_MSG="screenshot-cmd
    select - screenshot of select area or window 
    focused - screenshot of focused window"


TIMESTAMP_FORMAT="%Y%m%d%H%M%S"
SCREENSHOTS_PATH="$HOME/Images/screenshots"
CLIPBOARD_CMD='xclip -selection clipboard -target image/png -i $f'
NOTIFICATION_CMD='notify-send -u normal -i accessories-screenshot "Screenshot" "saved in $f"'

function screenshot_select {
    scrot -s -d 1 -f "$SCREENSHOTS_PATH/screenshot_$TIMESTAMP_FORMAT.png" -e "${CLIPBOARD_CMD} & ${NOTIFICATION_CMD}"
}

function screenshot_focused {
    scrot -u -d 3 -f "$SCREENSHOTS_PATH/screenshot_$TIMESTAMP_FORMAT.png" -e "${CLIPBOARD_CMD} & ${NOTIFICATION_CMD}"
}

case $1 in 
    select) screenshot_select;;
    focused) screenshot_focused;;
    -h|--help) echo -e "${HELP_MSG}";;
    *) exit 2;;
esac 
